/* default style is closed sides */
.dropdown {
  @apply flex flex-col relative;

  &__toggle {
    @apply flex flex-row justify-between uppercase focus:ring-4 focus:ring-light-blue focus:z-50 focus:outline-none py-2 px-4 no-underline;

    &.has-icon {
      @apply inline-flex flex-row gap-2;

      svg {
        @apply w-6 h-6 rotate-0 transition ease-in-out duration-300;
      }
    }
  }

  &__menu {
    @apply flex flex-col absolute top-[2.5rem] w-full z-10;
  }

  &__menu--list {
    @apply flex flex-col m-0 p-0 !important;
  }

  &__menu--item {
    @apply m-0 p-0;

    a {
      @apply block focus:ring-4 focus:ring-light-blue focus:z-50 focus:outline-none px-4 py-2;
    }
  }

  &__menu--item::marker {
    content: none;
  }
}

/* apply open accordion style */
.dropdown.accordion-button-dropdown {
  .dropdown__toggle {
    @apply border-t-2 border-gray-400;
  }

  .dropdown__menu--list {
    @apply flex flex-col m-0 p-0 !important;
  }
}

/* apply default closed select box style */
.dropdown.single-button-dropdown {
  .dropdown__menu {
    @apply bg-gray-100 shadow-lg;
  }

  .dropdown__toggle {
    @apply border-gray-400 border-2 hover:bg-gray-100;
  }

  .dropdown__menu--list {
    @apply flex flex-col border-2 border-t-0 border-gray-400 m-0 p-0 !important;
  }

  .dropdown__menu--item {
    @apply hover:bg-gray-200;
  }

  .dropdown__menu--item.is-active {
    a {
      @apply cursor-not-allowed bg-gray-300 font-bold;
      background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg>');
      background-repeat: no-repeat;
      background-position: 0.75rem;
      background-size: 1.25rem;
      padding-left: 2.25rem;
    }
  }
}

/* changes default dropdown behavior -- accordion moves content below down */
.dropdown.accordion-button-dropdown.dropdown.state-is-expanded {
  .dropdown__menu {
    position: unset;
    z-index: auto;
  }
}

/* clean specifications section â€” spec__item layout now in spec.css */
.specifications {
  .dropdown.accordion-button-dropdown button.dropdown__toggle {
    @apply border-t-2 border-gray-400;
  }
}

/* handles adding the last bottom border */
.specifications-list .field-specifications-type .field__item:last-child {
  .dropdown.accordion-button-dropdown:last-child button.dropdown__toggle {
    @apply border-b-2 border-gray-400;
  }
}

/* handles light blue background */
.group.bg-color--light-blue,
.group.bg-color--cyan {
  .specifications {
    .dropdown.accordion-button-dropdown button.dropdown__toggle {
      @apply border-t-2 border-white;
    }

    .dropdown.accordion-button-dropdown button.dropdown__toggle:focus {
      @apply ring-dark-blue;
    }
  }

  .specifications-list .field-specifications-type .field__item:last-child {
    .dropdown.accordion-button-dropdown:last-child button.dropdown__toggle {
      @apply border-b-2 border-white;
    }
  }
}

/* handles expanded state */
.dropdown.state-is-expanded {
  .dropdown__toggle.has-icon svg {
    @apply rotate-180;
  }
}

/* handles collapse state */
.dropdown.state-is-collapsed {
  .dropdown__menu {
    @apply hidden;
  }

  .dropdown__toggle.has-icon svg {
    @apply rotate-0;
  }
}
