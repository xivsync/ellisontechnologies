{"version":3,"file":"js/02-molecules/block/block.js","mappings":";;;;;AAAAA,MAAM,CAACC,SAAS,CAACC,MAAM,CAAG,CACxBC,MAAM,CAAE,SAAAA,OAAUC,CAAO,CAAY,CAMnCC,IAAI,CAAC,mBAAmB,CAAE,sCAAsC,CAAED,CAAO,CAAC,CAACE,OAAO,CAEhF,SAAUC,CAAO,CAAE,IAGX,CAAAC,CAAa,CAAGC,cAAc,CAACC,OAAO,CAACC,cAAc,CAErDC,CAAK,CAAGL,CAAO,CAACM,aAAa,CAAC,mBAAmB,CAAC,CACpDD,CAAK,GACPA,CAAK,CAACE,SAAS,uCAAAC,MAAA,CAAyCP,CAAa,uEAAqE,EAK5IQ,MAAM,CAACC,gBAAgB,CAAC,MAAM,CAAC,UAAM,IAE7B,CAAAC,CAAM,CAAGX,CAAO,CAACM,aAAa,CAAC,cAAc,CAAC,CAC9CM,CAAW,CAAGZ,CAAO,CAACa,QAAQ,CAEpC,GACED,CAAW,CAACE,cAAc,CAAC,WAAW,CAAC,EACpCZ,cAAc,CAACY,cAAc,CAAC,SAAS,CAAC,CAC3C,CACA,GAAM,CAAAC,CAAe,CAAGb,cAAc,CAACC,OAAO,CAACa,iBAAiB,CAC5DJ,CAAW,CAACK,SAAS,CAACC,KAAK,GAAGH,CAAe,GAC/CH,CAAW,CAACK,SAAS,CAACC,KAAK,CAAGH,CAAe,CAC7CJ,CAAM,CAACQ,KAAK,EAAE,CAElB,CAEF,CAAC,CAEH,CAAC,CAIL,CACF,CAAC,C","sources":["webpack://emulsify-drupal/./components/02-molecules/block/block.js"],"sourcesContent":["Drupal.behaviors.blocks = {\n  attach: function (context, settings) {\n    // Use context to filter the DOM to only the elements of interest,\n    // and use once() to guarantee that our callback function processes\n    // any given element one time at most, regardless of how many times\n    // the behaviour itself is called (it is not sufficient in general\n    // to assume an element will only ever appear in a single context).\n    once('handleExposedForm', '.view--locations .views-exposed-form', context).forEach(\n      \n      function (element) {\n\n        // tell user what region was selected which matches the region value in the footer\n        const sessionRegion = drupalSettings.ellison.session_region;\n        //const currentLocation = document.getElementById('locations-current');\n        const label = element.querySelector('.form-item__label');\n        if (label) {\n          label.innerHTML = `Your preferred location is <strong>${sessionRegion}</strong>. <em>Select a different location for nearby offices</em>.`;\n        }\n\n        \n\n        window.addEventListener('load',() => {\n\n          const submit = element.querySelector('.form-submit');\n          const formElments = element.elements;\n\n          if (\n            formElments.hasOwnProperty('region_id')\n            && drupalSettings.hasOwnProperty('ellison')\n          ) {\n            const sessionRegionId = drupalSettings.ellison.session_region_id;\n            if (formElments.region_id.value!==sessionRegionId) {\n              formElments.region_id.value = sessionRegionId;\n              submit.click();\n            }\n          }\n\n        });\n\n      }\n\n    );\n\n  }\n};\n"],"names":["Drupal","behaviors","blocks","attach","context","once","forEach","element","sessionRegion","drupalSettings","ellison","session_region","label","querySelector","innerHTML","concat","window","addEventListener","submit","formElments","elements","hasOwnProperty","sessionRegionId","session_region_id","region_id","value","click"],"sourceRoot":""}