{"version":3,"file":"js/02-molecules/menus/main-menu/main-menu.js","mappings":"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","sources":["webpack://emulsify-drupal/./components/02-molecules/menus/main-menu/main-menu.js"],"sourcesContent":["Drupal.behaviors.mainMenu = {\n  attach: function (context, settings) {\n    // Use context to filter the DOM to only the elements of interest,\n    // and use once() to guarantee that our callback function processes\n    // any given element one time at most, regardless of how many times\n    // the behaviour itself is called (it is not sufficient in general\n    // to assume an element will only ever appear in a single context).\n    once('handleMainMenu', 'div#main-menu', context).forEach(\n\n      function (element) {\n\n        function toggleSubmenu(e) {\n\n          const link = e.target;\n          const item = e.target.parentElement;\n          const isExpanded = link.getAttribute('aria-expanded');\n          const expandedClass = link.classList.contains('main-menu__link--sub-1') ? 'expanded-2' : 'expanded-1';\n    \n          if (isExpanded === 'true') {\n            item.classList.remove(expandedClass);\n            link.setAttribute('aria-expanded', false);\n          } else {\n            item.classList.add(expandedClass);\n            link.setAttribute('aria-expanded', true);\n          }\n    \n          e.preventDefault();\n    \n        }\n\n        // Enable main menu toggles\n        const menuLinksWithSub = element.getElementsByClassName('main-menu__link--with-sub');\n        for (menuLinkWithSub of menuLinksWithSub) {\n          let menuItemWithSub = menuLinkWithSub.parentElement;\n          menuLinkWithSub.setAttribute('aria-expanded', false)\n          menuLinkWithSub.addEventListener(\"click\", toggleSubmenu);\n        }\n        \n      }\n      \n    );\n\n    // Enable mobile\n    once('handleMobi', '.header__mobi', context).forEach(\n      \n      \n      function (element) {\n\n        function toggleMobi(e){\n\n          const buttonEl = e.target;\n          const toggleTarget = e.target.getAttribute('data-toggle-target');\n          const toggleTargetEl = document.getElementsByClassName(toggleTarget)[0];\n          const isExpanded = buttonEl.getAttribute('aria-expanded');\n    \n          if (isExpanded === 'true') {\n            toggleTargetEl.classList.remove('expanded');\n            buttonEl.setAttribute('aria-expanded', false);\n          } else {\n            toggleTargetEl.classList.add('expanded');\n            buttonEl.setAttribute('aria-expanded', true);\n          }\n    \n          e.preventDefault();\n        }\n\n        const buttonEls = element.getElementsByTagName('button');\n        for (buttonEl of buttonEls) {\n          buttonEl.addEventListener(\"click\", toggleMobi);\n        }\n\n      }\n    );\n\n  }\n};\n"],"names":["Drupal","behaviors","mainMenu","attach","context","once","forEach","element","toggleSubmenu","e","link","target","item","parentElement","isExpanded","getAttribute","expandedClass","classList","contains","remove","setAttribute","add","preventDefault","c","menuLinksWithSub","getElementsByClassName","_createForOfIteratorHelper","s","n","done","menuLinkWithSub","value","addEventListener","a","f","toggleMobi","buttonEl","toggleTarget","toggleTargetEl","document","buttonEls","getElementsByTagName"],"sourceRoot":""}