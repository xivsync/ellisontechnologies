{"version":3,"file":"js/02-molecules/menus/main-menu/main-menu.js","mappings":"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","sources":["webpack://emulsify-drupal/./components/02-molecules/menus/main-menu/main-menu.js"],"sourcesContent":["Drupal.behaviors.mainMenu = {\n  attach: function (context, settings) {\n    // Use context to filter the DOM to only the elements of interest,\n    // and use once() to guarantee that our callback function processes\n    // any given element one time at most, regardless of how many times\n    // the behaviour itself is called (it is not sufficient in general\n    // to assume an element will only ever appear in a single context).\n    once('handleMainMenu', 'div#main-menu', context).forEach(\n\n      function (element) {\n\n        function collapse(item,link,expandedClass) {\n          item.classList.remove(expandedClass);\n          link.setAttribute('aria-expanded', false);\n        }\n\n        function expand(item,link,expandedClass) {\n          item.classList.add(expandedClass);\n          link.setAttribute('aria-expanded', true);\n        }\n\n        collapseItems = function(items,expandedClass) {\n          for (item of items) {\n            const link = item.getElementsByClassName('main-menu__link--sub-1')[0];\n            collapse(item,link,expandedClass);\n          }\n        }\n\n        function toggleSubmenu(e) {\n\n          const link = e.target;\n          const item = e.target.parentElement;\n          const isExpanded = link.getAttribute('aria-expanded');\n          const isSubmenu = link.classList.contains('main-menu__link--sub-1') ? true : false;\n          const expandedClass = isSubmenu ? 'expanded-2' : 'expanded-1';\n    \n          if (isSubmenu) {\n\n            console.log('isSubmenu');\n            if (isExpanded === 'true') {\n              collapse(item,link,expandedClass);\n            } else {\n              expand(item,link,expandedClass);\n            }\n\n          } else {\n\n            if (isExpanded === 'true') {\n              collapse(item,link,expandedClass);\n            } else {\n              const topLevelItems = document.getElementsByClassName('expanded-1');\n              collapseItems(topLevelItems,'expanded-1');\n              expand(item,link,expandedClass);\n            }\n\n          }\n    \n          e.preventDefault();\n    \n        }\n\n        // Enable main menu toggles\n        const menuLinksWithSub = element.getElementsByClassName('main-menu__link--with-sub');\n        for (menuLinkWithSub of menuLinksWithSub) {\n          let menuItemWithSub = menuLinkWithSub.parentElement;\n          menuLinkWithSub.setAttribute('aria-expanded', false)\n          menuLinkWithSub.addEventListener(\"click\", toggleSubmenu);\n        }\n        \n      }\n      \n    );\n\n    // Enable mobile\n    once('handleMobi', '.header__mobi', context).forEach(\n      \n      \n      function (element) {\n\n        function toggleMobi(e){\n\n          const buttonEl = e.target;\n          const toggleTarget = e.target.getAttribute('data-toggle-target');\n          const toggleTargetEl = document.getElementsByClassName(toggleTarget)[0];\n          const isExpanded = buttonEl.getAttribute('aria-expanded');\n    \n          if (isExpanded === 'true') {\n            toggleTargetEl.classList.remove('expanded');\n            buttonEl.setAttribute('aria-expanded', false);\n          } else {\n            toggleTargetEl.classList.add('expanded');\n            buttonEl.setAttribute('aria-expanded', true);\n          }\n    \n          e.preventDefault();\n        }\n\n        const buttonEls = element.getElementsByTagName('button');\n        for (buttonEl of buttonEls) {\n          buttonEl.addEventListener(\"click\", toggleMobi);\n        }\n\n      }\n    );\n\n  }\n};\n"],"names":["Drupal","behaviors","mainMenu","attach","context","once","forEach","element","collapse","item","link","expandedClass","classList","remove","setAttribute","expand","add","toggleSubmenu","e","target","parentElement","isExpanded","getAttribute","isSubmenu","contains","console","log","topLevelItems","document","getElementsByClassName","collapseItems","preventDefault","items","d","_createForOfIteratorHelper","s","n","done","value","a","f","menuLinksWithSub","g","menuLinkWithSub","addEventListener","toggleMobi","buttonEl","toggleTarget","toggleTargetEl","c","buttonEls","getElementsByTagName"],"sourceRoot":""}